<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <title> Receiver Profile</title>
</head>
<body style="background-color:#f1f2f6">
<div class="container" style="text-align: center">
<h4>Receiver Profile</h4>
</div>
<div class= "container" >
    <div class="row justify-content-md-center">
        <div class="col-md-12">
             <form method="post" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6">
                        <div class="form-group">
                            <b>Receiver Profile</b><br><br>
                                <div class="form-group">
                                        <label>Name:</label>
                                        <b>{{recipient_data[0][0]}}</b>
                                    </div>
                                    <div class="form-group">
                                        <label>Email:</label>
                                        <b>{{recipient_data[0][2]}}</b>
                                    </div>
                                    <div class="form-group">
                                        <label>Birthdate:</label>
                                        <b>{{recipient_data[0][3]}}</b>
                                    </div>
                                    <div class="form-group">
                                        <label>Sex:</label>
                                        <b>{{recipient_data[0][4]}}</b>
                                    </div>
                                    <div class="form-group">
                                        <label>Organ:</label>
                                        {% for item in organ_data %}
                                    <ul>
                                        <li>
                                                <b>{{ item[0] }}</b>
                                        </li>
                                    </ul>
                                        {% endfor %}
                                    </div>
                                <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group">
                                <b>Upload Medical Reports:</b>
                                </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="form-group">
                                        <input type="file" name="reports"  class="form-control">
                                    </div>
					             </div>
                                <div class="form-group">
                                   <button type="submit" class="btn btn-primary" name ="submit" value="submit">Submit</button>
                                </div>
                            </div>
                     </div>
                    <div class="col-xs-6 col-sm-6 col-md-6">
                        <div class="form-group">
                            <!-- <div style="border-style: solid;"> -->
                            <b>Recommended Donors</b>
                            <div class="row" style="height: 160px; overflow: auto; border-style: solid; padding: 5px">
                            <div class="col-xs-12 col-sm-12 col-md-12">
                                
                                    {% if donor_organ_data|length > 0 %}
                                        {% for item in donor_organ_data %}
                                        <ol>
                                            {{ item[0] }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>{{ item[1] }}</b>
                                            <button type="submit" class="btn btn-primary" style="float: right;" name="submit" value="{{item[0]}}_{{item[1]}}_{{item[2]}}">Send Request</button><br>
                                        </ol>
                                        {% endfor %}
                                    {% else %}
                                        <p>No Donors Available</p>
                                    {% endif %}

                            </div>
                            </div><br>
                            <b>Open Requests : Pending</b>
                            <div class="row" style="height: 160px; overflow: auto; border-style: solid; padding: 5px">
                            <div class="col-xs-12 col-sm-12 col-md-12">
                                
                                    {% if pending_requests|length > 0 %}
                                        {% for item in pending_requests %}
                                        <ol>
                                            {{ item[0] }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{ item[1] }}
                                            <input type="button" class="btn btn-primary" style="float: right;" value="View Status" onclick="location.href='#'"/><br>
                                        </ol>
                                        {% endfor %}
                                    {% else %}
                                        <p>No pending requests available</p>
                                    {% endif %}
                            </div>
                            </div><br>
                            <b>Open Requests : Approved</b>
                            <div class="row" style="height: 160px; overflow: auto; border-style: solid; padding: 5px">
                            <div class="col-xs-12 col-sm-12 col-md-12">
                                
                                    {% if approved_requests|length > 0 %}
                                        {% for item in approved_requests %}
                                        <ol>
                                            {{ item[0] }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{ item[1] }}
                                            <input type="button" class="btn btn-primary" style="float: right;" value="View Status" onclick="location.href='#'"/><br>
                                        </ol>
                                        {% endfor %}
                                    {% else %}
                                        <p>No approved requests</p>
                                    {% endif %}
                            </div>
                            </div>
                        </div>
                     </div>
                </div>

                {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <script>
                        var messages = {{ messages | safe }};
                        for (var i=0; i<messages.length; i++) 
                        {
                            alert(messages[i]);
                        }
                    </script>
                {% endif %}
             {% endwith %}
            </form>
        </div>
    </div>
</div>

</body>
</html>